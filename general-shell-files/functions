# Functions
# #########

function l {
  PASSED=$1
  if [[ -d $PASSED ]]; then
    ll $PASSED
  elif [[ -f $PASSED ]]; then
    less $PASSED
  else
    ll $PASSED
  fi
}

function tree {
  find ${1:-.} -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'
}

# Check if command exists (hash is afaik a bash builtin, seems to work in zsh nonetheless)
command_exists () {
    hash "$1" &> /dev/null ;
}

# OSX: Find launchctl plist files
launchctlFind () {
    LaunchctlPATHS=( \
        ~/Library/LaunchAgents \
        /Library/LaunchAgents \
        /Library/LaunchDaemons \
        /System/Library/LaunchAgents \
        /System/Library/LaunchDaemons \
    )

    for curPATH in "${LaunchctlPATHS[@]}"
    do
        grep -rl "$curPATH" -e "$1"
    done
    return 0;
}

# Docker Stuff
function docker-ip() {
  boot2docker ip 2> /dev/null
}

function docker-refresh-hostname-ip() {
  echo $(docker-ip) docker | sudo tee -a /etc/hosts
}

# Temporary Fixes for (Boot 2) Docker Logstash
export DOCKER_HOST=tcp://192.168.59.103:2376
export DOCKER_CERT_PATH=/Users/$(whoami)/.boot2docker/certs/boot2docker-vm
export DOCKER_TLS_VERIFY=1

docker-ip() {
  boot2docker ip 2> /dev/null
}