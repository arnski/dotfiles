# Shell history
#########################################
HISTFILE=~/.bash_history # Use same as bash, so share one history while transitioning
HISTSIZE=1000000
SAVEHIST=900000 # This value is smaller than HISTSIZE to allow a window for dupes.
setopt append_history # Append to the history file rather than replacing it.
setopt inc_append_history # Write history items as they are run, not on shell exit.
setopt hist_expire_dups_first # Expire duplicate history items before older unique ones.
setopt hist_ignore_dups # Don't save consecutive duplicate history items.

# The following lines result in this: Starting to type a command and then press 'arrow-up' will search back in history
# for lines with the same beginnung. Pressing 'arrow-up' on an empty line will go back in history and leave the cursor at 
# the end of the line.
autoload -Uz up-line-or-beginning-search
autoload -Uz down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search
bindkey '\eOA' up-line-or-beginning-search
bindkey '\e[A' up-line-or-beginning-search
bindkey '\eOB' down-line-or-beginning-search
bindkey '\e[B' down-line-or-beginning-search

# Misc zsh config
setopt notify # Print background job status immediately.
unsetopt auto_cd # Don't "execute" directories by changing into them.

# Move between (customised) words with option-left/right.
export WORDCHARS='*?[]~=&;!#$%^(){}'
bindkey "\e\e[C"  forward-word
bindkey "\e\e[D"  backward-word
